window.Tea=tea=function(){let e=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t={},n={},r={};function i(){a().then((function(e){console.log(e);let t=document.getElementById("file-name").textContent.replace(".tea",""),n="/**\n *         )  (           \n *        (   ) )      \n *         ) ( (           \n *       _______)_    _______     \n *    .-'---------|  |__   __|\n *   ( C|/\\/\\/\\/\\/|     | | ___  __ _ \n *    '-./\\/\\/\\/\\/|     | |/ _ \\/ _\\ |\n *      '_________'     | |  __/ (_| |\n *       '-------'      |_|\\___|\\__,_|\n *      -----------   ------------------\n */\n\n";n+='import { action } from "teapot";\r\n',e.code.reverse().map((function(e,t){"import"===e.type&&(n+="import lib;\r\n")})),n+="\r\n",n+="export default class "+t+" {\r\n";let r="";e.code.reverse().map((function(e,t){"variable"===e.type&&(n+='\tprivate newvar: String = "";\r\n',r="\r\n")})),n+=r,console.log(e),e.code.reverse().map((function(e,t){"start"===e.type&&(n+="\trun() {\r\n"),"stop"===e.type&&(n+="\t}\r\n"),"action"===e.type&&(n+="\t\taction();\r\n")})),n+="}\r\n",console.log(n);const i=Prism.highlight(n,Prism.languages.typescript,"typescript");document.getElementById("tea-output-typescript").innerHTML=i})),a().then((function(e){console.log(e);let t=document.getElementById("file-name").textContent.replace(".tea",""),n="#\n#         )  (           \n#        (   ) )      \n#         ) ( (           \n#       _______)_    _______     \n#    .-'---------|  |__   __|\n#   ( C|/\\/\\/\\/\\/|     | | ___  __ _ \n#    '-./\\/\\/\\/\\/|     | |/ _ \\/ _\\ |\n#      '_________'     | |  __/ (_| |\n#       '-------'      |_|\\___|\\__,_|\n#      -----------   ------------------\n#\n\n";n+="from tea import action\r\n",e.code.reverse().map((function(e,t){"import"===e.type&&(n+="import lib\r\n")})),n+="\r\n",n+="class "+t+"():\r\n";let r="";e.code.reverse().map((function(e,t){"variable"===e.type&&(n+='\tnewvar = ""\r\n',r="\r\n")})),n+=r,console.log(e),e.code.reverse().map((function(e,t){"start"===e.type&&(n+="\tdef run():\r\n"),e.type,"action"===e.type&&(n+="\t\taction()\r\n")}));const i=Prism.highlight(n,Prism.languages.python,"python");document.getElementById("tea-output-python").innerHTML=i})),a().then((function(e){console.log(e);let t=document.getElementById("file-name").textContent.replace(".tea",""),n="/**\n *         )  (           \n *        (   ) )      \n *         ) ( (           \n *       _______)_    _______     \n *    .-'---------|  |__   __|\n *   ( C|/\\/\\/\\/\\/|     | | ___  __ _ \n *    '-./\\/\\/\\/\\/|     | |/ _ \\/ _\\ |\n *      '_________'     | |  __/ (_| |\n *       '-------'      |_|\\___|\\__,_|\n *      -----------   ------------------\n */\n\n";n+='$tea = require_once("teapot.php");\r\n',e.code.reverse().map((function(e,t){"import"===e.type&&(n+='$lib = require_once("lib");\r\n')})),n+="\r\n",n+="class "+t+" {\r\n";let r="";e.code.reverse().map((function(e,t){"variable"===e.type&&(n+='\tprivate $newvar = "";\r\n',r="\r\n")})),n+=r,console.log(e),e.code.reverse().map((function(e,t){"start"===e.type&&(n+="\tfunction run() {\r\n"),"stop"===e.type&&(n+="\t}\r\n"),"action"===e.type&&(n+="\t\t$tea.action();\r\n")})),n+="}\r\n";const i=Prism.highlight(n,Prism.languages.php,"php");document.getElementById("tea-output-php").innerHTML=i})),a().then((function(e){console.log(e);let t=document.getElementById("file-name").textContent.replace(".tea",""),n="/**\n *         )  (           \n *        (   ) )      \n *         ) ( (           \n *       _______)_    _______     \n *    .-'---------|  |__   __|\n *   ( C|/\\/\\/\\/\\/|     | | ___  __ _ \n *    '-./\\/\\/\\/\\/|     | |/ _ \\/ _\\ |\n *      '_________'     | |  __/ (_| |\n *       '-------'      |_|\\___|\\__,_|\n *      -----------   ------------------\n */\n\n";n+="using TeaPot.*;\r\n",e.code.reverse().map((function(e,t){"import"===e.type&&(n+="using lib;\r\n")})),n+="\r\n",n+="public class "+t+" {\r\n";let r="";e.code.reverse().map((function(e,t){"variable"===e.type&&(n+='\tprivate string newvar = "";\r\n',r="\r\n")})),n+=r,console.log(e),e.code.reverse().map((function(e,t){"start"===e.type&&(n+="\tpublic void run() {\r\n"),"stop"===e.type&&(n+="\t}\r\n"),"action"===e.type&&(n+="\t\taction();\r\n")})),n+="}\r\n";const i=Prism.highlight(n,Prism.languages.csharp,"csharp");document.getElementById("tea-output-csharp").innerHTML=i})),a().then((function(e){console.log(e);let t=document.getElementById("file-name").textContent.replace(".tea",""),n="/**\n *         )  (           \n *        (   ) )      \n *         ) ( (           \n *       _______)_    _______     \n *    .-'---------|  |__   __|\n *   ( C|/\\/\\/\\/\\/|     | | ___  __ _ \n *    '-./\\/\\/\\/\\/|     | |/ _ \\/ _\\ |\n *      '_________'     | |  __/ (_| |\n *       '-------'      |_|\\___|\\__,_|\n *      -----------   ------------------\n */\n\n";n+="import com.teapot.tea.action;\r\n",e.code.reverse().map((function(e,t){"import"===e.type&&(n+="import lib;\r\n")})),n+="\r\n",n+="public class "+t+" {\r\n";let r="";e.code.reverse().map((function(e,t){"variable"===e.type&&(n+='\tprivate String newvar = "";\r\n',r="\r\n")})),n+=r,console.log(e),e.code.reverse().map((function(e,t){"start"===e.type&&(n+="\tpublic void run() {\r\n"),"stop"===e.type&&(n+="\t}\r\n"),"action"===e.type&&(n+="\t\taction();\r\n")})),n+="}\r\n";const i=Prism.highlight(n,Prism.languages.java,"java");document.getElementById("tea-output-java").innerHTML=i}))}function a(){return new Promise((function(e,t){let n={code:[]};document.querySelectorAll(" .tea-editor-inner .tea-component").forEach((function(e,t){e.classList.contains("tea-start")&&n.code.push({type:"start"}),e.classList.contains("tea-stop")&&n.code.push({type:"stop"}),e.classList.contains("tea-action")&&n.code.push({type:"action"}),e.classList.contains("tea-import")&&n.code.push({type:"import"}),e.classList.contains("tea-variable")&&n.code.push({type:"variable"})})),e(n)}))}function o(n){n.target.classList.contains("tea-archimate-innertext")||(e?(n.target.style.left=t.pageX-r.offsetLeft-Math.ceil(n.target.style.width.replace("px","")/2)+r.scrollLeft+"px",n.target.style.top=t.pageY-r.offsetTop-Math.ceil(n.target.style.height.replace("px","")/2)+r.scrollTop+"px"):(n.target.style.left=n.pageX-r.offsetLeft-Math.ceil(n.target.style.width.replace("px","")/2)+r.scrollLeft+"px",n.target.style.top=n.pageY-r.offsetTop-Math.ceil(n.target.style.height.replace("px","")/2)+r.scrollTop+"px"))}function s(e){o(e),img=new Image,e.dataTransfer.effectAllowed="all",e.dataTransfer.setDragImage(img,-1e3,-1e3),e.dataTransfer.setData("text/html",e.innerHTML)}function l(e){o(e)}function c(e){o(e)}function p(e){o(e)}function m(e){}function _(e){}function d(e){return e.preventDefault&&e.preventDefault(),!1}function g(e,t,n,i,a=1+r.scrollLeft+"px",o=1+r.scrollTop+"px",g=!0){let h=document.createElement("div");return h.className=e,h.style.left=a,h.style.top=o,h.style.width=t,h.style.height=n,null!=i&&(h.innerHTML=i),g&&(h.setAttribute("draggable","true"),function(e){e.addEventListener("dragstart",s,!1),e.addEventListener("drag",l,!1),e.addEventListener("drop",c,!1),e.addEventListener("dragover",d,!1),e.addEventListener("dragenter",m,!1),e.addEventListener("dragleave",_,!1),e.addEventListener("dragend",p,!1)}(h)),h}return{init:function(i){i=i,n=document.querySelectorAll(i+" .tea-editor-inner")[0],r=document.querySelectorAll(i)[0],e&&n.addEventListener("dragover",(function(e){t=e}),!1)},connect:function(e,t){switch(e){case"start":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-start","32px","32px");n.append(e)}(),i()}));break;case"action":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-action","150px","80px");n.insertBefore(e,n.childNodes[0])}(),i()}));break;case"stop":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-stop","32px","32px");n.insertBefore(e,n.childNodes[0])}(),i()}));break;case"variable":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-variable","32px","32px",'<svg width="32" height="32" viewBox="0 0 500 500" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">\n    <g transform="matrix(1,0,0,1,-25.8741,15.3846)">\n        <path d="M417.022,326.573C432.213,305.737 440.21,282.102 440.21,258.042C440.21,182.395 362.657,120.979 267.133,120.979C171.609,120.979 94.056,182.395 94.056,258.042C94.056,282.102 102.053,305.737 117.244,326.573L417.022,326.573Z" style="fill:rgb(255,234,203);stroke:rgb(255,181,92);stroke-width:19.52px;"/>\n    </g>\n</svg>');n.insertBefore(e,n.childNodes[0])}(),i()}));break;case"import":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-import","32px","32px",'<svg width="32" height="32" viewBox="0 0 500 500" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">\n    <g transform="matrix(1.28226,0,0,1,-97.5271,-23.0769)">\n        <path d="M267.483,90.909C267.483,90.909 137.413,228.217 137.413,287.063C137.413,379.113 195.695,453.846 267.483,453.846C339.27,453.846 397.552,379.113 397.552,287.063C397.552,228.217 267.483,90.909 267.483,90.909Z" style="fill:rgb(255,203,245);stroke:rgb(255,92,213);stroke-width:16.98px;"/>\n    </g>\n</svg>');n.insertBefore(e,n.childNodes[0])}(),i()}));break;case"archimate-resource":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-archimate tea-archimate-resource","119px","54px",'<svg width="119" height="54" viewBox="0 0 119 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-miterlimit:10;">\n        <g transform="matrix(1,0,0,1,-1.69362,-1.60709)">\n            <g transform="matrix(1,0,0,1,-8.30638,-8.39291)">\n                <rect x="10" y="10" width="119" height="54" style="fill:rgb(245,222,170);"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-8.30638,-8.39291)">\n                <clipPath id="_clip1">\n                    <rect x="9" y="9" width="122" height="57"/>\n                </clipPath>\n                <g clip-path="url(#_clip1)">\n                    <rect x="10" y="10" width="119" height="54" style="fill:none;stroke:rgb(20,14,0);stroke-width:1px;"/>\n                </g>\n            </g>\n            <g transform="matrix(1,0,0,1,-8.30638,-8.39291)">\n                <path d="M125,18.5C125,17.672 124.328,17 123.5,17L111.5,17C110.672,17 110,17.672 110,18.5L110,25.5C110,26.328 110.672,27 111.5,27L123.5,27C124.328,27 125,26.328 125,25.5L125,18.5Z" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-8.30638,-8.39291)">\n                <clipPath id="_clip2">\n                    <rect x="9" y="9" width="122" height="57"/>\n                </clipPath>\n                <g clip-path="url(#_clip2)">\n                    <path d="M127,20.5C127,20.224 126.776,20 126.5,20L125.5,20C125.224,20 125,20.224 125,20.5L125,23.5C125,23.776 125.224,24 125.5,24L126.5,24C126.776,24 127,23.776 127,23.5L127,20.5Z" style="fill:none;stroke:black;stroke-width:1px;"/>\n                </g>\n            </g>\n            <g transform="matrix(1,0,0,1,-8.30638,-8.39291)">\n                <path d="M113,19L113,25M116,19L116,25M119,19L119,25" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n        </g>\n    </svg><input class="tea-archimate-innertext" contenteditable="true" value="resource">');n.insertBefore(e,n.childNodes[0])}()}));break;case"archimate-capability":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-archimate tea-archimate-capability","120px","55px",'<svg width="120" height="55" viewBox="0 0 120 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-miterlimit:10;">\n        <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n            <path d="M320,20C320,14.481 315.519,10 310,10L211,10C205.481,10 201,14.481 201,20L201,54C201,59.519 205.481,64 211,64L310,64C315.519,64 320,59.519 320,54L320,20Z" style="fill:rgb(245,222,170);"/>\n        </g>\n        <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n            <g>\n                <path d="M320,20C320,14.481 315.519,10 310,10L211,10C205.481,10 201,14.481 201,20L201,54C201,59.519 205.481,64 211,64L310,64C315.519,64 320,59.519 320,54L320,20Z" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n        </g>\n        <g>\n            <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n                <rect x="312" y="15" width="4" height="4" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n                <rect x="308" y="19" width="4" height="4" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n                <rect x="312" y="19" width="4" height="4" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n                <rect x="304" y="23" width="4" height="4" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n                <rect x="308" y="23" width="4" height="4" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-200.538,-9.5617)">\n                <rect x="312" y="23" width="4" height="4" style="fill:none;stroke:black;stroke-width:1px;"/>\n            </g>\n        </g>\n    </svg><input class="tea-archimate-innertext" contenteditable="true" value="capability">');n.insertBefore(e,n.childNodes[0])}()}));break;case"archimate-value-stream":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-archimate tea-archimate-value-stream","120px","55px",'<svg width="120" height="55" viewBox="0 0 120 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n        <g transform="matrix(1,0,0,1,0.5,0.5)">\n            <g transform="matrix(1,0,0,1,-393,-10)">\n                <path d="M512,20C512,14.481 507.519,10 502,10L403,10C397.481,10 393,14.481 393,20L393,54C393,59.519 397.481,64 403,64L502,64C507.519,64 512,59.519 512,54L512,20Z" style="fill:rgb(245,222,170);stroke:black;stroke-width:1px;"/>\n            </g>\n            <g transform="matrix(1,0,0,1,-394.138,-10.6114)">\n                <path d="M494,17L504,17L509,22L504,27L494,27L499,22L494,17Z" style="fill:none;fill-rule:nonzero;stroke:black;stroke-width:1px;stroke-linejoin:miter;stroke-miterlimit:10;"/>\n            </g>\n        </g>\n    </svg><input class="tea-archimate-innertext" contenteditable="true" value="value stream">');n.insertBefore(e,n.childNodes[0])}()}));break;case"archimate-course-of-action":t.addEventListener("click",(function(e){!function(){var e=g("tea-component tea-archimate tea-archimate-course-of-action","120px","55px",'<svg width="120" height="55" viewBox="0 0 120 55" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">\n        <g transform="matrix(1,0,0,1,-9.5,-93.6827)">\n            <path d="M129,104C129,98.481 124.519,94 119,94L20,94C14.481,94 10,98.481 10,104L10,138C10,143.519 14.481,148 20,148L119,148C124.519,148 129,143.519 129,138L129,104Z" style="fill:rgb(245,222,170);stroke:black;stroke-width:1px;"/>\n        </g>\n        <g transform="matrix(1,0,0,1,-9.5,-93.6827)">\n            <path d="M107.6,106L113.6,107L110.6,112.2"/>\n        </g>\n        <g transform="matrix(1,0,0,1,-9.5,-93.6827)">\n            <path d="M110.5,109C108.074,109 105.997,110.742 105.576,113.132" style="fill:none;stroke:black;stroke-width:2px;stroke-linejoin:miter;stroke-miterlimit:10;"/>\n        </g>\n        <g transform="matrix(1,0,0,1,-9.5,-93.6827)">\n            <path d="M126,103.5C126,99.91 123.09,97 119.5,97C115.91,97 113,99.91 113,103.5C113,107.09 115.91,110 119.5,110C123.09,110 126,107.09 126,103.5ZM123.5,103.5C123.5,101.291 121.709,99.5 119.5,99.5C117.291,99.5 115.5,101.291 115.5,103.5C115.5,105.709 117.291,107.5 119.5,107.5C121.709,107.5 123.5,105.709 123.5,103.5ZM121,103.5C121,102.672 120.328,102 119.5,102C118.672,102 118,102.672 118,103.5C118,104.328 118.672,105 119.5,105C120.328,105 121,104.328 121,103.5ZM120,103.5C120,103.224 119.776,103 119.5,103C119.224,103 119,103.224 119,103.5C119,103.776 119.224,104 119.5,104C119.776,104 120,103.776 120,103.5Z" style="fill:none;stroke:black;stroke-width:1.2px;stroke-linejoin:miter;stroke-miterlimit:10;"/>\n        </g>\n    </svg><input class="tea-archimate-innertext" contenteditable="true" value="course of action">');n.insertBefore(e,n.childNodes[0])}()}))}}}}(),document.addEventListener("DOMContentLoaded",e=>{Tea.init(".tea-editor"),Tea.connect("start",document.getElementById("tea-start")),Tea.connect("stop",document.getElementById("tea-stop")),Tea.connect("action",document.getElementById("tea-action")),Tea.connect("variable",document.getElementById("tea-variable")),Tea.connect("import",document.getElementById("tea-import")),Tea.connect("archimate-resource",document.getElementById("tea-archimate-resource")),Tea.connect("archimate-capability",document.getElementById("tea-archimate-capability")),Tea.connect("archimate-value-stream",document.getElementById("tea-archimate-value-stream")),Tea.connect("archimate-course-of-action",document.getElementById("tea-archimate-course-of-action"))});